/**
 * @license http-react-fetcher
 * Copyright (c) Dany Beltran
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ /**
 * Creates a new request function. This is for usage with fetcher and fetcher.extend
 */ (()=>{function b(a,b,c,d){return async function(f,q={}){let{default:l,resolver:r=a=>a.json(),config:m={},onResolve:s=()=>{},onError:n=()=>{}}=q,g=Object.assign(Object.assign({},d),m.query),[,t=""]=f.split("?");t.split("&").forEach(c=>{let[a,b]=c.split("=");g[a]!==b&&(g=Object.assign(Object.assign({},g),{[a]:b}))});let o=Object.keys(g).map(a=>[a,g[a]].join("=")).join("&"),{headers:u={},body:h,formatBody:k}=m,i={method:a,headers:Object.assign(Object.assign({"Content-Type":"application/json"},c),u),body:(null==a?void 0:a.match(/(POST|PUT|DELETE|PATCH)/))?"function"==typeof k?k((FormData,h)):!1===k||"undefined"!=typeof FormData&&h instanceof FormData?h:JSON.stringify(h):void 0},j;try{let e=await fetch(`${b||""}${f}${f.includes("?")?`&${o}`:`?${o}`}`,i);j=e;let p=await r(e);if((null==e?void 0:e.status)>=400)return n(!0),{res:e,data:l,error:!0,code:null==e?void 0:e.status,config:Object.assign(Object.assign({url:`${b||""}${f}`},i),{query:g})};return s(p,e),{res:e,data:p,error:!1,code:null==e?void 0:e.status,config:Object.assign(Object.assign({url:`${b||""}${f}`},i),{query:g})}}catch(v){return n(v),{res:j,data:l,error:!0,code:null==j?void 0:j.status,config:Object.assign(Object.assign({url:`${b||""}${f}`},i),{query:g})}}}}let a=()=>{};a.get=b("GET","",{}),a.delete=b("DELETE","",{}),a.head=b("HEAD","",{}),a.options=b("OPTIONS","",{}),a.post=b("POST","",{}),a.put=b("PUT","",{}),a.patch=b("PATCH","",{}),a.purge=b("PURGE","",{}),a.link=b("LINK","",{}),a.unlink=b("UNLINK","",{}),a.extend=function({baseUrl:c="",headers:d={},body:f={},query:e={},resolver:g=a=>a.json()}={}){function a(){}return a.config={baseUrl:c,headers:d,body:f,query:e},a.get=b("GET",c,d,e),a.delete=b("DELETE",c,d,e),a.head=b("HEAD",c,d,e),a.options=b("OPTIONS",c,d,e),a.post=b("POST",c,d,e),a.put=b("PUT",c,d,e),a.patch=b("PATCH",c,d,e),a.purge=b("PURGE",c,d,e),a.link=b("LINK",c,d,e),a.unlink=b("UNLINK",c,d,e),a},window.fetcher=a})()