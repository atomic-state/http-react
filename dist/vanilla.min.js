/**
 * @license http-react-fetcher
 * Copyright (c) Dany Beltran
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ /**
 * Creates a new request function. This is for usage with fetcher and fetcher.extend
 */ function createRequestFn(a,b,c){return async function(e,m={}){let{default:j,resolver:n=a=>a.json(),config:o={},onResolve:p=()=>{},onError:k=()=>{}}=m,{headers:q={},body:f,formatBody:i}=o,g={method:a,headers:Object.assign(Object.assign({"Content-Type":"application/json"},c),q),body:(null==a?void 0:a.match(/(POST|PUT|DELETE|PATCH)/))?"function"==typeof i?i((FormData,f)):!1===i||"undefined"!=typeof FormData&&f instanceof FormData?f:JSON.stringify(f):void 0},h;try{let d=await fetch(`${b||""}${e}`,g);h=d;let l=await n(d);if((null==d?void 0:d.status)>=400)return k(!0),{res:d,data:j,error:!0,code:null==d?void 0:d.status,config:Object.assign({url:`${b||""}${e}`},g)};return p(l,d),{res:d,data:l,error:!1,code:null==d?void 0:d.status,config:Object.assign({url:`${b||""}${e}`},g)}}catch(r){return k(r),{res:h,data:j,error:!0,code:null==h?void 0:h.status,config:Object.assign({url:`${b||""}${e}`},g)}}}}const fetcher=()=>{};fetcher.get=createRequestFn("GET","",{}),fetcher.delete=createRequestFn("DELETE","",{}),fetcher.head=createRequestFn("HEAD","",{}),fetcher.options=createRequestFn("OPTIONS","",{}),fetcher.post=createRequestFn("POST","",{}),fetcher.put=createRequestFn("PUT","",{}),fetcher.patch=createRequestFn("PATCH","",{}),fetcher.purge=createRequestFn("PURGE","",{}),fetcher.link=createRequestFn("LINK","",{}),fetcher.unlink=createRequestFn("UNLINK","",{}),fetcher.extend=function({baseUrl:b="",headers:c={},body:d={},resolver:e=a=>a.json()}={}){function a(){}return a.config={baseUrl:b,headers:c,body:d},a.get=createRequestFn("GET",b,c),a.delete=createRequestFn("DELETE",b,c),a.head=createRequestFn("HEAD",b,c),a.options=createRequestFn("OPTIONS",b,c),a.post=createRequestFn("POST",b,c),a.put=createRequestFn("PUT",b,c),a.patch=createRequestFn("PATCH",b,c),a.purge=createRequestFn("PURGE",b,c),a.link=createRequestFn("LINK",b,c),a.unlink=createRequestFn("UNLINK",b,c),a}
