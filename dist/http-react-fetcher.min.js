"use strict";/**
 * @license http-react-fetcher
 * Copyright (c) Dany Beltran
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ (()=>{var f=this&&this.__assign||function(){return(f=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)},g=this&&this.__awaiter||function(b,c,a,d){return new(a||(a=Promise))(function(f,g){function h(a){try{e(d.next(a))}catch(b){g(b)}}function i(a){try{e(d.throw(a))}catch(b){g(b)}}function e(b){var c;b.done?f(b.value):((c=b.value)instanceof a?c:new a(function(a){a(c)})).then(h,i)}e((d=d.apply(b,c||[])).next())})},h=this&&this.__generator||function(b,c){var d,e,f,a,_={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return a={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function g(a){return function(b){return h([a,b])}}function h(a){if(d)throw new TypeError("Generator is already executing.");for(;_;)try{if(d=1,e&&(f=2&a[0]?e.return:a[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,a[1])).done)return f;switch(e=0,f&&(a=[2&a[0],f.value]),a[0]){case 0:case 1:f=a;break;case 4:return _.label++,{value:a[1],done:!1};case 5:_.label++,e=a[1],a=[0];continue;case 7:a=_.ops.pop(),_.trys.pop();continue;default:if(!(f=(f=_.trys).length>0&&f[f.length-1])&&(6===a[0]||2===a[0])){_=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3])){_.label=a[1];break}if(6===a[0]&&_.label<f[1]){_.label=f[1],f=a;break}if(f&&_.label<f[2]){_.label=f[2],_.ops.push(a);break}f[2]&&_.ops.pop(),_.trys.pop();continue}a=c.call(b,_)}catch(g){a=[6,g],e=0}finally{d=f=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},i=this&&this.__rest||function(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d},c=React;function b(a,b,c,d){return function(i,e){return void 0===e&&(e={}),g(this,void 0,void 0,function(){var g,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;return h(this,function(h){switch(h.label){case 0:g=e.default,j=e.resolver,k=void 0===j?function(a){return a.json()}:j,l=e.config,m=void 0===l?{}:l,n=e.onResolve,o=void 0===n?function(){}:n,p=e.onError,q=void 0===p?function(){}:p,r=f(f({},d),m.query),(u=void 0===(t=(s=i.split("?"))[1])?"":t).split("&").forEach(function(e){var a,b=e.split("="),c=b[0],d=b[1];r[c]!==d&&(r=f(f({},r),((a={})[c]=d,a)))}),v=Object.keys(r).map(function(a){return[a,r[a]].join("=")}).join("&"),x=void 0===(w=m.headers)?{}:w,y=m.body,z=m.formatBody,A={method:a,headers:f(f({"Content-Type":"application/json"},c),x),body:(null==a?void 0:a.match(/(POST|PUT|DELETE|PATCH)/))?"function"==typeof z?z((FormData,y)):!1===z||"undefined"!=typeof FormData&&y instanceof FormData?y:JSON.stringify(y):void 0},B=void 0,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch("".concat(b||"").concat(i).concat(i.includes("?")?"&".concat(v):"?".concat(v)),A),];case 2:return B=C=h.sent(),[4,k(C)];case 3:if(D=h.sent(),(null==C?void 0:C.status)>=400)return q(!0),[2,{res:C,data:g,error:!0,code:null==C?void 0:C.status,config:f(f({url:"".concat(b||"").concat(i)},A),{query:r})},];return o(D,C),[2,{res:C,data:D,error:!1,code:null==C?void 0:C.status,config:f(f({url:"".concat(b||"").concat(i)},A),{query:r})},];case 4:return q(E=h.sent()),[2,{res:B,data:g,error:!0,code:null==B?void 0:B.status,config:f(f({url:"".concat(b||"").concat(i)},A),{query:r})},];case 5:return[2]}})})}}var j=(0,c.createContext)({defaults:{},attempts:0,attemptInterval:5,revalidateOnFocus:!1,query:{},params:{},onOffline:function(){},onOnline:function(){},online:!0,retryOnReconnect:!0}),k=function(a){var b=a.url,t=void 0===b?"/":b,u=a.default,d=a.config,e=void 0===d?{method:"GET",headers:{},body:{}}:d,i=a.children,j=a.onError,v=void 0===j?function(){}:j,k=a.onResolve,w=void 0===k?function(){}:k,l=a.refresh,m=void 0===l?0:l,n=(0,c.useState)(u),o=n[0],x=n[1],p=(0,c.useState)(null),q=p[0],y=p[1],r=(0,c.useState)(!0),s=r[0],z=r[1];function A(){var a;return g(this,void 0,void 0,function(){var b,c,d,g;return h(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,4,5]),[4,fetch(t,{method:e.method,headers:f({"Content-Type":"application/json"},e.headers),body:(null===(a=e.method)|| void 0===a?void 0:a.match(/(POST|PUT|DELETE|PATCH)/))?JSON.stringify(e.body):void 0}),];case 1:return[4,(b=h.sent()).json()];case 2:return c=h.sent(),(d=b.status)>=200&&d<300?(x(c),y(null),w(c,b)):(u&&x(u),y(!0),v(c)),[3,5];case 3:return g=h.sent(),x(void 0),y(new Error(g)),v(g),[3,5];case 4:return z(!1),[7];case 5:return[2]}})})}return((0,c.useEffect)(function(){if(m>0){var a=setTimeout(function(){return g(this,void 0,void 0,function(){return h(this,function(a){return(o||q)&&!s&&(z(!0),A()),[2]})})},1e3*m);return function(){return clearTimeout(a)}}},[m,s,q,o,e]),(0,c.useEffect)(function(){z(!0),A()},[t,m,e]),void 0!==i)?React.createElement(i,{data:o,error:q,loading:s}):null},l={};function d(a){var k=a.children,d=a.defaults,e=void 0===d?{}:d,g=a.baseUrl,b=(0,c.useContext)(j),m=void 0===g?void 0===b.baseUrl?"":b.baseUrl:g;for(var h in e)l["".concat(m).concat(h)]=e[h];var i=f(f({},b),a);for(var n in a)"headers"===n&&(i.headers=f(f({},b.headers),a.headers));return React.createElement(j.Provider,{value:i},k)}var a=function(k,Z){var a=(0,c.useContext)(j),b="string"==typeof k?f({url:k},Z):k,q=b.onOnline,r=void 0===q?a.onOnline:q,s=b.onOffline,aq=void 0===s?a.onOffline:s,t=b.retryOnReconnect,$=void 0===t?a.retryOnReconnect:t,u=b.url,e=void 0===u?"/":u,aa=b.default,v=b.config,d=void 0===v?{query:{},params:{},baseUrl:void 0,method:"GET",headers:{},body:void 0,formatBody:!1}:v,w=b.resolver,ar=void 0===w?"function"==typeof a.resolver?a.resolver:function(a){return a.json()}:w,x=b.onError,as=void 0===x?function(){}:x,y=b.auto,at=void 0===y?void 0===a.auto||a.memory:y,z=b.memory,ab=void 0===z?void 0===a.memory||a.memory:z,A=b.onResolve,au=void 0===A?function(){}:A,B=b.onAbort,ac=void 0===B?function(){}:B,C=b.refresh,m=void 0===C?void 0===a.refresh?0:a.refresh:C,D=b.cancelOnChange,av=void 0===D?void 0!==a.refresh&&a.refresh:D,E=b.attempts,ad=void 0===E?a.attempts:E,F=b.attemptInterval,ae=void 0===F?a.attemptInterval:F,G=b.revalidateOnFocus,af=void 0===G?a.revalidateOnFocus:G,H=(0,c.useState)(f(f({},a.query),d.query)),i=H[0],aw=H[1],I=(0,c.useState)(f(f({},a.params),d.params)),n=I[0],ax=I[1];(0,c.useEffect)(function(){ax(f(f({},a.params),d.params))},[JSON.stringify(f(f({},a.params),d.params))]),(0,c.useEffect)(function(){aw(f(f({},a.query),d.query))},[JSON.stringify(a.query),JSON.stringify(d.query),e]);var ay=(void 0===d.baseUrl?void 0===a.baseUrl?"":a.baseUrl:d.baseUrl)+e,J=React.useMemo(function(){return ay.split("/").map(function(b){if(b.startsWith("[")&&b.endsWith("]")){var a=b.replace(/\[|\]/g,"");return a in n?n[b.replace(/\[|\]/g,"")]:(console.warn("Param '".concat(a,"' does not exist in request configuration for '").concat(e,"'")),a)}if(!b.startsWith(":"))return b;var a=b.split("").slice(1).join("");return a in n?n[a]:(console.warn("Param '".concat(a,"' does not exist in request configuration for '").concat(e,"'")),a)}).join("/")},[JSON.stringify(n),d.baseUrl,a.baseUrl,e]),K=Object.keys(i).map(function(a){return[a,i[a]].join("=")}).join("&"),ag=J+(J.includes("?")?"&".concat(K):"?"+K),L=ag.split("?"),M=L[0],az=L[1],N=(0,c.useState)(!1),ah=N[0],aA=N[1];(0,c.useEffect)(function(){aA(!1);var a={};az.split("&").forEach(function(e,f){var b=e.split("="),c=b[0],d=b[1];a[c]!==d&&(a[c]=d)});var b=setTimeout(function(){aw(function(b){return f(f({},b),a)}),clearTimeout(b)},0),c=setTimeout(function(){aA(!0),clearTimeout(c)},0)},[JSON.stringify(i)]);var O=(0,c.useState)(ab&&l[M]||aa),P=O[0],ai=O[1],Q=(0,c.useState)("undefined"!=typeof FormData?d.body instanceof FormData?d.body:void 0!==a.body|| void 0!==d.body?f(f({},a.body),d.body):void 0:d.body),aj=Q[0],aB=Q[1],R=(0,c.useState)(f(f({},a.headers),d.headers)),ak=R[0],aC=R[1],S=(0,c.useState)(),al=S[0],aD=S[1],T=(0,c.useState)(),am=T[0],aE=T[1],U=(0,c.useState)(null),o=U[0],aF=U[1],V=(0,c.useState)(!0),p=V[0],aG=V[1],W=(0,c.useState)(0),an=W[0],aH=W[1],X=(0,c.useState)(new AbortController),ao=X[0],aI=X[1];function aJ(a){var b;return void 0===a&&(a={}),g(this,void 0,void 0,function(){var c,e,g,i,j,k;return h(this,function(h){switch(h.label){case 0:av&&(null==ao||ao.abort()),c=new AbortController,aI(c),aF(null),h.label=1;case 1:return h.trys.push([1,4,5,6]),[4,fetch(ag,{signal:c.signal,method:d.method,headers:f(f({"Content-Type":"undefined"!=typeof FormData&&d.body instanceof FormData?"multipart/form-data":"application/json"},d.headers),a.headers),body:(null===(b=d.method)|| void 0===b?void 0:b.match(/(POST|PUT|DELETE|PATCH)/))?"function"==typeof d.formatBody?d.formatBody("undefined"!=typeof FormData&&d.body instanceof FormData?d.body:f(f({},d.body),a.body)):!1===d.formatBody||"undefined"!=typeof FormData&&d.body instanceof FormData?d.body:JSON.stringify(f(f({},d.body),a.body)):void 0}),];case 2:return aD(e=h.sent()),aE(g=e.status),[4,ar(e)];case 3:return i=h.sent(),g>=200&&g<400?(ab&&(l[M]=i),ai(i),aF(null),au(i,e),aH(0)):(aa&&ai(aa),aF(!0),as(i,e)),[3,6];case 4:return(k=null==(j=h.sent())?void 0:j.toString()).match(/abort/i)?l[M]||ai(aa):(ai(void 0),aF(new Error(j)),as(j)),[3,6];case 5:return aG(!1),[7];case 6:return[2]}})})}function ap(a){return void 0===a&&(a={}),g(this,void 0,void 0,function(){return h(this,function(b){return a.body&&aB(function(b){return f(f({},b),a.body)}),a.headers&&aC(function(b){return f(f({},b),a.headers)}),p||(aG(!0),aJ(a)),[2]})})}(0,c.useEffect)(function(){var a=(ao||{}).signal,b=function(){var a=setTimeout(function(){ac(),clearTimeout(a)})};return null==a||a.addEventListener("abort",b),function(){null==a||a.removeEventListener("abort",b)}},[ao,ac]),(0,c.useEffect)(function(){function a(){var a=!1;r({cancel:function(){a=!0}}),a||ap()}if("undefined"!=typeof window&&"addEventListener"in window&&$)return window.addEventListener("online",a),function(){window.removeEventListener("online",a)}},[r,$]),(0,c.useEffect)(function(){function a(){aq()}if("undefined"!=typeof window&&"addEventListener"in window)return window.addEventListener("offline",a),function(){window.removeEventListener("offline",a)}},[r]),(0,c.useEffect)(function(){aC(function(b){return f(f({},b),a.headers)})},[a.headers]),(0,c.useEffect)(function(){if(o&&an<ad)var a=setTimeout(function(){ap(),aH(function(a){return a+1}),clearTimeout(a)},1e3*ae)},[o,ad,ae,an]),(0,c.useEffect)(function(){if(m>0&&at){var a=setTimeout(ap,1e3*m);return function(){return clearTimeout(a)}}},[m,p,o,P,d]);var Y=JSON.stringify(Object.assign(a,{children:void 0},{resolver:void 0},{reqQuery:i},{reqParams:n}));return(0,c.useEffect)(function(){var a=setTimeout(function(){ah&&(at?(aG(!0),aJ()):(void 0===P&&ai(aa),aF(null),aG(!1)))},0);return function(){clearTimeout(a)}},[e,Y,a.children,m,JSON.stringify(d),ah,]),(0,c.useEffect)(function(){if(af&&"undefined"!=typeof window&&"addEventListener"in window)return window.addEventListener("focus",ap),function(){window.removeEventListener("focus",ap)}},[e,af,Y,p,a.children,m,JSON.stringify(d),]),{data:P,loading:p,error:o,code:am,reFetch:ap,mutate:ai,abort:function(){ao.abort(),p&&(aF(!1),aG(!1),ai(l[M]))},config:f(f({},d),{params:n,headers:ak,body:aj,url:M,query:i}),response:al}};a.get=b("GET","",{}),a.delete=b("DELETE","",{}),a.head=b("HEAD","",{}),a.options=b("OPTIONS","",{}),a.post=b("POST","",{}),a.put=b("PUT","",{}),a.patch=b("PATCH","",{}),a.purge=b("PURGE","",{}),a.link=b("LINK","",{}),a.unlink=b("UNLINK","",{}),a.extend=function(l){void 0===l&&(l={});var m=l.baseUrl,g=void 0===m?void 0:m,n=l.headers,h=void 0===n?{}:n,o=l.body,q=void 0===o?{}:o,p=l.query,k=void 0===p?{}:p,r=l.resolver;function e(e,o){var b=(0,c.useContext)(j),k="string"==typeof e?f({url:e},o):e,l=k.url,m=k.config,d=void 0===m?{}:m,n=i(k,["url","config"]);return a(f(f({},n),{url:"".concat(void 0===l?"":l),resolver:r||n.resolver||b.resolver||function(a){return a.json()},config:{baseUrl:void 0===d.baseUrl?void 0===b.baseUrl?g:b.baseUrl:d.baseUrl,method:d.method,headers:f(f(f({},h),b.headers),d.headers),body:f(f(f({},q),b.body),d.body)}}))}return e.config={baseUrl:g,headers:h,body:q,query:k},e.get=b("GET",g,h,k),e.delete=b("DELETE",g,h,k),e.head=b("HEAD",g,h,k),e.options=b("OPTIONS",g,h,k),e.post=b("POST",g,h,k),e.put=b("PUT",g,h,k),e.patch=b("PATCH",g,h,k),e.purge=b("PURGE",g,h,k),e.link=b("LINK",g,h,k),e.unlink=b("UNLINK",g,h,k),e.Config=d,e};var m={headers:{},body:void 0},n=function(){function a(a){this.baseUrl="",this.baseUrl=a}return a.prototype.get=function(d,a,b){var c=void 0===a?m:a,e=c.headers,i=c.body;return void 0===b&&(b="GET"),g(this,void 0,void 0,function(){var a,c,g;return h(this,function(h){switch(h.label){case 0:return[4,fetch(a="".concat(this.baseUrl).concat(d),f({method:b,headers:f({"Content-Type":"application/json",Accept:"application/json"},e)},i?{body:JSON.stringify(i)}:{})),];case 1:return[4,(c=h.sent()).json()];case 2:return[2,g=h.sent()]}})})},a.prototype.post=function(b,a){return void 0===a&&(a=m),g(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this.get(b,a,"POST")];case 1:return[2,c.sent()]}})})},a.prototype.put=function(b,a){return void 0===a&&(a=m),g(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this.get(b,a,"PUT")];case 1:return[2,c.sent()]}})})},a.prototype.delete=function(b,a){return void 0===a&&(a=m),g(this,void 0,void 0,function(){return h(this,function(c){switch(c.label){case 0:return[4,this.get(b,a,"DELETE")];case 1:return[2,c.sent()]}})})},a}();function e(a){return new n(a)}window.createHttpClient=e,window.fetcher=a,window.FetcherConfig=d,window.useFetcher=a})()